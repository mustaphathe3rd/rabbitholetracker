<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rabbithole Tracker</title>
    <link rel="stylesheet" href="../assets/common.css">
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <div class="header__left">
                <img src="../assets/icons/icon64.png" alt="Logo" class="logo">
                <h1 data-i18n="appName">Rabbithole Tracker</h1>
            </div>
            <div class="header__right">
                <button id="generate-report-btn" class="btn-header" data-i18n="generateWeeklyInsight">Generate Weekly
                    Insight</button>
                <button id="mic-btn" class="btn-icon" title="Activate Voice Commands">ðŸŽ¤</button>
            </div>
        </header>

        <div id="loading-animation" class="loading-overlay">
            <video src="../assets/bunny-digging.mp4" class="bunny-gif" autoplay loop muted playsinline></video>
            <p id="loading-message" class="loading-message"></p>
        </div>

        <main id="main-content">
            <section class="card live-session">
                <div class="card__header">
                    <h2 data-i18n="liveSession">Live Session</h2>
                    <span id="status-dot" class="status-dot"></span>
                </div>
                <div class="card__body">
                    <p class="topic-label" data-i18n="currentTopic">CURRENT TOPIC</p>
                    <h3 id="topic-title" class="topic-title">Initializing...</h3>
                    <div id="timer" class="timer">0s</div>
                    <div class="journey">
                        <p class="journey__label" data-i18n="journey">Journey:</p>
                        <div id="journey-icons" class="journey__icons"></div>
                    </div>
                    <button id="generate-session-report-btn" class="btn-secondary" data-i18n="exportSession">Export
                        Session</button>
                </div>
            </section>

            <section class="card weekly-insights">
                <div class="card__header">
                    <h2 data-i18n="weeklyInsights">Weekly Insights</h2>
                </div>
                <div class="card__body">
                    <p id="insight-text" class="insight-text">
                        Click "Generate Weekly Insight" to get started.
                    </p>
                    <a href="#" class="view-report-link" data-i18n="viewFullReport">View Full Report &rarr;</a>
                </div>
            </section>
        </main>

        <div id="no-session" class="no-session-message" style="display: none;">
            <p>No active browsing session. Start navigating to begin tracking!</p>
        </div>
    </div>
    <script src="popup.js" defer></script>
</body>

</html>